#include "Map1.h"
#include "ModulePhysics.h"
#include "Application.h"
#include "Globals.h"

Map1::Map1() {
	// Pivot 0, 0
	const b2Vec2 racetracksketch1[] = {
	{5384, 824},
	{6657, 829},
	{6694, 849},
	{6732, 897},
	{6746, 934},
	{6752, 991},
	{6751, 2252},
	{6732, 2310},
	{6690, 2370},
	{6653, 2398},
	{5986, 2418},
	{5810, 2804},
	{5577, 2994},
	{5038, 3000},
	{4748, 2681},
	{4691, 2674},
	{4625, 2678},
	{4571, 2684},
	{4382, 2793},
	{4336, 2812},
	{4291, 2823},
	{3851, 2821},
	{3531, 2665},
	{3515, 2646},
	{3334, 2390},
	{3004, 2392},
	{2900, 2484},
	{2898, 2600},
	{2913, 2634},
	{2936, 2676},
	{2964, 2710},
	{3006, 2750},
	{3161, 2851},
	{3816, 2864},
	{3880, 2886},
	{3951, 2932},
	{4011, 2991},
	{4060, 3070},
	{4094, 3154},
	{4110, 3221},
	{4117, 3294},
	{4115, 3374},
	{4100, 3449},
	{4067, 3532},
	{4029, 3592},
	{3970, 3653},
	{3901, 3692},
	{3851, 3706},
	{3152, 3704},
	{2626, 3110},
	{2421, 3108},
	{2275, 3176},
	{2143, 3166},
	{1986, 3021},
	{1951, 2745},
	{2056, 2530},
	{2280, 2290},
	{2298, 2180},
	{2211, 1653},
	{2184, 1639},
	{2152, 1645},
	{2120, 1663},
	{2105, 1685},
	{2101, 1707},
	{2101, 1798},
	{2133, 1848},
	{2172, 1933},
	{2195, 2006},
	{2211, 2094},
	{2212, 2180},
	{2199, 2247},
	{2170, 2320},
	{2122, 2380},
	{2064, 2422},
	{1985, 2450},
	{966, 2451},
	{920, 2465},
	{846, 2466},
	{780, 2441},
	{721, 2406},
	{658, 2346},
	{602, 2269},
	{552, 2175},
	{514, 2074},
	{476, 1935},
	{454, 1781},
	{446, 1610},
	{460, 1414},
	{496, 1235},
	{529, 1133},
	{578, 1024},
	{629, 943},
	{685, 876},
	{738, 830},
	{793, 799},
	{851, 780},
	{926, 780},
	{964, 788},
	{1514, 798},
	{1559, 761},
	{5185, 760},
	{5300, 863},
	{5384, 825}
	};

	const int vertexCount1 = sizeof(racetracksketch1) / sizeof(b2Vec2);

	b2ChainShape chain1;
	chain1.CreateLoop(racetracksketch1, vertexCount1);

	//// Pivot 0.000000, 0.000000
	//float racetracksketch[206] = {
	//	0.747778f, 0.183111f,
	//	0.924583f, 0.184222f,
	//	0.929722f, 0.188667f,
	//	0.935000f, 0.199333f,
	//	0.936944f, 0.207556f,
	//	0.937778f, 0.220222f,
	//	0.937639f, 0.500444f,
	//	0.935000f, 0.513333f,
	//	0.929167f, 0.526667f,
	//	0.924028f, 0.532889f,
	//	0.831389f, 0.537333f,
	//	0.806944f, 0.623111f,
	//	0.774583f, 0.665333f,
	//	0.699722f, 0.666667f,
	//	0.659444f, 0.595778f,
	//	0.651528f, 0.594222f,
	//	0.642361f, 0.595111f,
	//	0.634861f, 0.596444f,
	//	0.608611f, 0.620667f,
	//	0.602222f, 0.624889f,
	//	0.595972f, 0.627333f,
	//	0.534861f, 0.626889f,
	//	0.490417f, 0.592222f,
	//	0.488194f, 0.588000f,
	//	0.463056f, 0.531111f,
	//	0.417222f, 0.531556f,
	//	0.402778f, 0.552000f,
	//	0.402500f, 0.577778f,
	//	0.404583f, 0.585333f,
	//	0.407778f, 0.594667f,
	//	0.411667f, 0.602222f,
	//	0.417500f, 0.611111f,
	//	0.439028f, 0.633556f,
	//	0.530000f, 0.636444f,
	//	0.538889f, 0.641333f,
	//	0.548750f, 0.651556f,
	//	0.557083f, 0.664667f,
	//	0.563889f, 0.682222f,
	//	0.568611f, 0.700889f,
	//	0.570833f, 0.715778f,
	//	0.571806f, 0.732000f,
	//	0.571528f, 0.749778f,
	//	0.569444f, 0.766444f,
	//	0.564861f, 0.784889f,
	//	0.559583f, 0.798222f,
	//	0.551389f, 0.811778f,
	//	0.541806f, 0.820444f,
	//	0.534861f, 0.823556f,
	//	0.437778f, 0.823111f,
	//	0.364722f, 0.691111f,
	//	0.336250f, 0.690667f,
	//	0.315972f, 0.705778f,
	//	0.297639f, 0.703556f,
	//	0.275833f, 0.671333f,
	//	0.270972f, 0.610000f,
	//	0.285556f, 0.562222f,
	//	0.316667f, 0.508889f,
	//	0.319167f, 0.484444f,
	//	0.307083f, 0.367333f,
	//	0.303333f, 0.364222f,
	//	0.298889f, 0.365556f,
	//	0.294444f, 0.369556f,
	//	0.292361f, 0.374444f,
	//	0.291806f, 0.379333f,
	//	0.291806f, 0.399556f,
	//	0.296250f, 0.410667f,
	//	0.301667f, 0.429556f,
	//	0.304861f, 0.445778f,
	//	0.307083f, 0.465333f,
	//	0.307222f, 0.484444f,
	//	0.305417f, 0.499333f,
	//	0.301389f, 0.515556f,
	//	0.294722f, 0.528889f,
	//	0.286667f, 0.538222f,
	//	0.275694f, 0.544444f,
	//	0.134167f, 0.544667f,
	//	0.127778f, 0.547778f,
	//	0.117500f, 0.548000f,
	//	0.108333f, 0.542444f,
	//	0.100139f, 0.534667f,
	//	0.091389f, 0.521333f,
	//	0.083611f, 0.504222f,
	//	0.076667f, 0.483333f,
	//	0.071389f, 0.460889f,
	//	0.066111f, 0.430000f,
	//	0.063056f, 0.395778f,
	//	0.061944f, 0.357778f,
	//	0.063889f, 0.314222f,
	//	0.068889f, 0.274444f,
	//	0.073472f, 0.251778f,
	//	0.080278f, 0.227556f,
	//	0.087361f, 0.209556f,
	//	0.095139f, 0.194667f,
	//	0.102500f, 0.184444f,
	//	0.110139f, 0.177556f,
	//	0.118194f, 0.173333f,
	//	0.128611f, 0.173333f,
	//	0.133889f, 0.175111f,
	//	0.210278f, 0.177333f,
	//	0.216528f, 0.169111f,
	//	0.720139f, 0.168889f,
	//	0.736111f, 0.191778f,
	//	0.747778f, 0.183333f
	//};

const b2Vec2 racetrack2[] = {
	{5308, 1025},
	{5384, 1057},
	{6444, 1053},
	{6460, 1062},
	{6481, 1096},
	{6496, 1140},
	{6509, 1186},
	{6507, 2035},
	{6496, 2062},
	{6475, 2088},
	{6438, 2119},
	{5988, 2107},
	{5814, 1722},
	{5578, 1530},
	{5044, 1525},
	{4750, 1844},
	{4720, 1850},
	{4636, 1849},
	{4568, 1840},
	{4459, 1774},
	{4396, 1736},
	{4332, 1710},
	{4294, 1700},
	{3863, 1702},
	{3536, 1857},
	{3521, 1874},
	{3340, 2132},
	{2827, 2140},
	{2607, 2286},
	{2541, 2467},
	{2546, 2534},
	{2555, 2581},
	{2583, 2650},
	{2614, 2692},
	{3089, 3128},
	{3838, 3122},
	{3874, 3138},
	{3902, 3177},
	{3921, 3228},
	{3927, 3300},
	{3919, 3369},
	{3901, 3416},
	{3869, 3454},
	{3841, 3465},
	{3164, 3432},
	{2677, 2873},
	{2347, 2871},
	{2283, 2805},
	{2285, 2748},
	{2543, 2412},
	{2580, 2249},
	{2464, 1561},
	{2438, 1515},
	{2390, 1452},
	{2332, 1397},
	{2272, 1359},
	{2229, 1339},
	{2172, 1323},
	{2130, 1318},
	{2070, 1321},
	{2014, 1338},
	{1967, 1367},
	{1920, 1412},
	{1892, 1457},
	{1871, 1500},
	{1857, 1542},
	{1849, 1603},
	{1850, 1708},
	{1869, 1796},
	{1889, 1867},
	{1896, 1932},
	{1890, 1998},
	{1879, 2030},
	{1856, 2063},
	{1831, 2080},
	{976, 2081},
	{945, 2060},
	{908, 2032},
	{864, 1978},
	{836, 1925},
	{814, 1872},
	{790, 1792},
	{774, 1703},
	{769, 1641},
	{767, 1556},
	{770, 1494},
	{783, 1405},
	{812, 1292},
	{843, 1222},
	{878, 1168},
	{925, 1120},
	{970, 1094},
	{1001, 1090},
	{1509, 1088},
	{1559, 1133},
	{5194, 1132},
	{5301, 1023},
	{5308, 1025}
};

const int vertexCount2 = sizeof(racetrack2) / sizeof(b2Vec2);

b2ChainShape chain2;
chain2.CreateLoop(racetrack2, vertexCount2);

//// Pivot 0.000000, 0.000000
//float racetracksketch[196] = {
//	0.737222f, 0.227778f,
//	0.747778f, 0.234889f,
//	0.895000f, 0.234000f,
//	0.897222f, 0.236000f,
//	0.900139f, 0.243556f,
//	0.902222f, 0.253333f,
//	0.904028f, 0.263556f,
//	0.903750f, 0.452222f,
//	0.902222f, 0.458222f,
//	0.899306f, 0.464000f,
//	0.894167f, 0.470889f,
//	0.831667f, 0.468222f,
//	0.807500f, 0.382667f,
//	0.774722f, 0.340000f,
//	0.700556f, 0.338889f,
//	0.659722f, 0.409778f,
//	0.655556f, 0.411111f,
//	0.643889f, 0.410889f,
//	0.634444f, 0.408889f,
//	0.619306f, 0.394222f,
//	0.610556f, 0.385778f,
//	0.601667f, 0.380000f,
//	0.596389f, 0.377778f,
//	0.536528f, 0.378222f,
//	0.491111f, 0.412667f,
//	0.489028f, 0.416444f,
//	0.463889f, 0.473778f,
//	0.392639f, 0.475556f,
//	0.362083f, 0.508000f,
//	0.352917f, 0.548222f,
//	0.353611f, 0.563111f,
//	0.354861f, 0.573556f,
//	0.358750f, 0.588889f,
//	0.363056f, 0.598222f,
//	0.429028f, 0.695111f,
//	0.533056f, 0.693778f,
//	0.538056f, 0.697333f,
//	0.541944f, 0.706000f,
//	0.544583f, 0.717333f,
//	0.545417f, 0.733333f,
//	0.544306f, 0.748667f,
//	0.541806f, 0.759111f,
//	0.537361f, 0.767556f,
//	0.533472f, 0.770000f,
//	0.439444f, 0.762667f,
//	0.371806f, 0.638444f,
//	0.325972f, 0.638000f,
//	0.317083f, 0.623333f,
//	0.317361f, 0.610667f,
//	0.353194f, 0.536000f,
//	0.358333f, 0.499778f,
//	0.342222f, 0.346889f,
//	0.338611f, 0.336667f,
//	0.331944f, 0.322667f,
//	0.323889f, 0.310444f,
//	0.315556f, 0.302000f,
//	0.309583f, 0.297556f,
//	0.301667f, 0.294000f,
//	0.295833f, 0.292889f,
//	0.287500f, 0.293556f,
//	0.279722f, 0.297333f,
//	0.273194f, 0.303778f,
//	0.266667f, 0.313778f,
//	0.262778f, 0.323778f,
//	0.259861f, 0.333333f,
//	0.257917f, 0.342667f,
//	0.256806f, 0.356222f,
//	0.256944f, 0.379556f,
//	0.259583f, 0.399111f,
//	0.262361f, 0.414889f,
//	0.263333f, 0.429333f,
//	0.262500f, 0.444000f,
//	0.260972f, 0.451111f,
//	0.257778f, 0.458444f,
//	0.254306f, 0.462222f,
//	0.135556f, 0.462444f,
//	0.131250f, 0.457778f,
//	0.126111f, 0.451556f,
//	0.120000f, 0.439556f,
//	0.116111f, 0.427778f,
//	0.113056f, 0.416000f,
//	0.109722f, 0.398222f,
//	0.107500f, 0.378444f,
//	0.106806f, 0.364667f,
//	0.106528f, 0.345778f,
//	0.106944f, 0.332000f,
//	0.108750f, 0.312222f,
//	0.112778f, 0.287111f,
//	0.117083f, 0.271556f,
//	0.121944f, 0.259556f,
//	0.128472f, 0.248889f,
//	0.134722f, 0.243111f,
//	0.139028f, 0.242222f,
//	0.209583f, 0.241778f,
//	0.216528f, 0.251778f,
//	0.721389f, 0.251556f,
//	0.736250f, 0.227333f,
//	0.737222f, 0.227778f
//};

	leftWaypoints.assign(racetracksketch1, racetracksketch1 + vertexCount1);
	rightWaypoints.assign(racetrack2, racetrack2 + vertexCount2);
	for (size_t i = 0; i < leftWaypoints.size() && i < rightWaypoints.size(); i++) {
		b2Vec2 mid = 0.5f * (leftWaypoints[i] + rightWaypoints[i]);
		centerLine.push_back(mid);
	}
	mapTex = LoadTexture("Assets/Maps/Map1.png");
}
Map1::Map1(b2ChainShape _mapChain) {

	

}
Map1::~Map1() {}

std::vector<b2Vec2> Map1::GetCenterLine() {
	return centerLine;
}